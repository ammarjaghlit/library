{
	"info": {
		"_postman_id": "ab71cafe-e72a-4424-a8cc-a2e641f3a344",
		"name": "ad_adpi_test_pattern",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "bigip1-Test AS3 running",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b0ca8b95-acc4-4c20-84a7-fbf63bb347b8",
						"exec": [
							"",
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"",
							"pm.test(\"AS3 is running\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"id": "b401b224-049c-4e5f-bf78-93ec5df7977a",
						"exec": [
							"pm.collectionVariables.set(\"APP_NAME\", \"api.acme.com\");",
							"pm.collectionVariables.set(\"PATH_NAME\", \"api\");",
							"pm.collectionVariables.set(\"PARTITION_NAME\", \"api\");",
							"pm.collectionVariables.set('HTTPS_RUN', 'FALSE' );",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/info",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"info"
					]
				}
			},
			"response": []
		},
		{
			"name": "create_vs_http_server_pool",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "a3464db4-9d93-40ad-9bf6-2d2e5bd20c04",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"BEGINNING HTTP TESTS\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{PATH_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{APP_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP1_VIP1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{APP_NAME}}-clientssl\",\r\n                \"pool\": \"http-api-pool\",\r\n        \t\t\"snat\": \"auto\"\r\n                },\r\n\r\n                \"{{APP_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"http-api-pool\": {\r\n                    \"class\": \"Pool\",  \r\n                        \"members\": [\r\n                            {\r\n                            \"serverAddresses\": [\r\n                            \"10.1.20.6\"\r\n                            ],\r\n                            \"servicePort\": 81\r\n                            }\r\n                        ],\r\n                    \"monitors\": [\r\n                        \"icmp\"\r\n                    ]\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}\r\n                \r\n             \r\n          \r\n       \r\n    \r\n"
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "23179ef9-8ee9-40f1-9e14-943b154f4a3b",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"API Server is running\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/create",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5944095c-78c1-4616-bde8-1e834ea876fd",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"GET_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/create?userIdentity=GET_API&employeeNumber=100&Name='Post API'&Givenname=POST&Surname=API&UserPrincipalName=postapi@f5lab.local&OU=IT&Password=F@k3P@assw0rd&email=postapi@acme.com",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"create"
					],
					"query": [
						{
							"key": "userIdentity",
							"value": "GET_API"
						},
						{
							"key": "employeeNumber",
							"value": "100"
						},
						{
							"key": "Name",
							"value": "'Post API'"
						},
						{
							"key": "Givenname",
							"value": "POST"
						},
						{
							"key": "Surname",
							"value": "API"
						},
						{
							"key": "UserPrincipalName",
							"value": "postapi@f5lab.local"
						},
						{
							"key": "OU",
							"value": "IT"
						},
						{
							"key": "Password",
							"value": "F@k3P@assw0rd"
						},
						{
							"key": "email",
							"value": "postapi@acme.com"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/create",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "07cdfb9c-71b4-417e-8a14-cd76b67c352e",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"Username\":\"POST_API\",\n\"employeeNumber\":\"100\",\n\"GivenName\":\"post\",\n\"Surname\": \"api\",\n\"UPN\":\"12890@f5lab.local\",\n\"OU\":\"IT\",\n\"Password\":\"letmein\",\n\"emailaddress\":\"postapi@acme.com\"\n}"
				},
				"url": {
					"raw": "https://10.1.10.100/aduser/create",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"create"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/set",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "430d974c-4274-4a7c-952e-0489be37ea6c",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/set?useridentity=POST_API&DriverLicense=123456",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"set"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "POST_API"
						},
						{
							"key": "DriverLicense",
							"value": "123456"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/get",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "161d9a55-fd22-49f2-9aac-364e0c2533c6",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "cb398855-ad71-445c-b2c4-7a951b203b42",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/get?useridentity=POST_API",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"get"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "POST_API"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/unlock",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "bd53cf82-13d7-4bf0-9598-a8b87b7c6661",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/unlock?useridentity=POST_API",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"unlock"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "POST_API"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /aduser/cert",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "105304e1-b328-402c-a4ae-561e9d0eb2f0",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test('OK', function() {",
							"  pm.expect(jsonData).to.have.property('certificate');",
							"})"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/cert?useridentity=user1",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"cert"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "user1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "PATCH /aduser/password",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f8a70c42-7037-4652-9778-ea9b97fcb070",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.sAMAccountName).to.eql(\"POST_API\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "ewogICJhbGciOiJIUzI1NiIsCiAgImtpZCI6ImxhYiIKfQ.ewogICJ0b2tlbl90eXBlIjoiQmVhcmVyIiwKICAiaXNzIjoiaHR0cHM6Ly9wcmVidWlsdC1hcy5hY21lLmNvbSIsCiAgImNsaWVudCI6IjMwMzJmZDEyMWY5ZGZjNjY1ZDVjM2Y1ZjllOWUwNjExMTcxZjJmNmU4MTdiMTg1ZSIsCiAgImdyb3VwaWQiOiJTZW5pb3IgU3lzdGVtcyBFbmdpbmVlciIsCiAgImdyb3VwcyI6InwgQ049bWVtYmVyLXNlcnZpY2VzLUEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049c3lzYWRtaW5zLE9VPUdyb3VwcyxEQz1mNWxhYixEQz1sb2NhbCB8IENOPWFwcDEsT1U9R3JvdXBzLERDPWY1bGFiLERDPWxvY2FsIHwgQ049RWRpdFVzZXIsT1U9SVQsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1XZWJzaXRlIEFkbWluLE9VPVNhbGVzIEVuZ2luZWVyaW5nLERDPWY1bGFiLERDPWxvY2FsIHwgQ049U2FsZXMgRW5naW5lZXJpbmcsQ049VXNlcnMsREM9ZjVsYWIsREM9bG9jYWwgfCBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPWY1bGFiLERDPWxvY2FsIHwiLAogICJvcmciOiJGNSIsCiAgInRpZXIiOiJTYWxlcyBFbmdpbmVlcmluZyIsCiAgInVzZXIiOiJ1c2VyMSIsCiAgInN1YiI6Ii9wcmVidWlsdC9wcmVidWlsdC1hcy1wc3AudXNlcjEiLAogICJqdGkiOiJlM2Y1YzRiYzBkZTRjYzBmOWVkMTdiZjU5YzI5NzMzMDZkNmNmODNmNzA2ZmM3NzM0YTdjNGNmNTQ0MzRkM2JjIiwKICAiaWF0IjoxNTg3NDcwMzAzLAogICJleHAiOjE1ODc0Nzc1MDMsCiAgIm5iZiI6MTU4NzQ3MDAwMwp9.PizJFgeQiYuaR5ZBN5_GAo9QuA0jSkUXlsPu-OL8fl8",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/aduser/password?useridentity=POST_API&password=changeme",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"aduser",
						"password"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "POST_API"
						},
						{
							"key": "password",
							"value": "changeme"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /vulnerable - External Response",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "54e26288-a5e0-47f5-bca4-65d654139f49",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"Tiger\");",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/vulnerable?useridentity=hackeduser&uri=http://dummy.restapiexample.com/api/v1/employees",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"vulnerable"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "hackeduser"
						},
						{
							"key": "uri",
							"value": "http://dummy.restapiexample.com/api/v1/employees"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /vulnerable - Internal Response",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "341ca6df-e614-4615-9966-bb3afc8ed788",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"pm.test(\"OK\", function () {",
							"    pm.expect(pm.response.text()).to.include(\"AccessKeyId\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/vulnerable?useridentity=hackeduser&uri=http://unprotected-json.f5lab.local/",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"vulnerable"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "hackeduser"
						},
						{
							"key": "uri",
							"value": "http://unprotected-json.f5lab.local/"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /addr/available",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "9e6b87e4-198e-4946-b789-bc99fb4107bc",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.address).to.eql(\"10.1.10.100\");",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://10.1.10.100/addr/available?scope=10.1.10.0",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"addr",
						"available"
					],
					"query": [
						{
							"key": "scope",
							"value": "10.1.10.0"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /addr/checkout",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "50538755-7b05-413a-b0da-6be743d21922",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"scope\":\"10.1.10.0\",\n\"address\":\"10.1.10.113\",\n\"vs_name\":\"api_testing.acme.com\"\n}"
				},
				"url": {
					"raw": "https://10.1.10.100/addr/checkout",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"addr",
						"checkout"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /addr/checkin",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d519146e-7f6b-42b9-afc7-7bb38ac7abdf",
						"exec": [
							"",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n\"scope\":\"10.1.10.0\",\n\"address\":\"10.1.10.101\",\n\"vs_name\":\"test.acme.com\"\n}"
				},
				"url": {
					"raw": "https://10.1.10.100/addr/checkin?address=10.1.10.113",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"addr",
						"checkin"
					],
					"query": [
						{
							"key": "address",
							"value": "10.1.10.113"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /user - Delete user GET_API",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "f580fed1-4245-414a-a474-e6e401946d71",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/user?useridentity=GET_API",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"user"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "GET_API"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /user - Delete user POST_API",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "616581f9-785d-4cba-8e74-96a7be7ff6d9",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"pm.test(\"OK\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"} ",
							"",
							"var jsonData = pm.response.json();",
							"pm.test(\"OK\", function () {",
							" ",
							"    pm.expect(jsonData.status).to.eql(\"Success\");",
							"});",
							"",
							"var HTTPS_RUN = pm.collectionVariables.get(\"HTTPS_RUN\");",
							"",
							"if (HTTPS_RUN === \"TRUE\") {",
							"postman.setNextRequest(\"delete_vs\");",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "https://10.1.10.100/user?useridentity=POST_API",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"10",
						"100"
					],
					"path": [
						"user"
					],
					"query": [
						{
							"key": "useridentity",
							"value": "POST_API"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "create_vs_https_server_pool",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "451e020f-c8f0-4168-b33f-e1788e8b2296",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"pm.test(\"BEGINNING HTTPS TESTS\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.collectionVariables.set('HTTPS_RUN', 'TRUE' );",
							"",
							"postman.setNextRequest(\"GET /\");",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"class\": \"ADC\",\r\n    \"action\": \"deploy\",\r\n    \"persist\": true,\r\n    \"declaration\": {\r\n       \"class\": \"ADC\",\r\n       \"schemaVersion\": \"3.14.0\",\r\n       \"id\": \"APM\",\r\n       \"{{PARTITION_NAME}}\": {\r\n          \"class\": \"Tenant\",\r\n          \"{{PATH_NAME}}\": {\r\n             \"class\": \"Application\",\r\n             \"template\": \"generic\",\r\n             \"{{APP_NAME}}\": {\r\n                \"class\": \"Service_HTTPS\",\r\n                \"virtualAddresses\": [\r\n                   \"{{BIGIP1_VIP1}}\"\r\n                ],\r\n                \"virtualPort\": 443,\r\n                \"serverTLS\": \"{{APP_NAME}}-clientssl\",\r\n                \"clientTLS\": \"{{APP_NAME}}-serverssl\",\r\n                \"pool\": \"https-api-pool\",\r\n        \t\t\"snat\": \"auto\"\r\n                },\r\n\r\n                \"{{APP_NAME}}-clientssl\": {\r\n                    \"class\": \"TLS_Server\",\r\n                    \"certificates\": [\r\n                        {\r\n                        \"certificate\": \"tlsserver_local_cert\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"tlsserver_local_cert\": {\r\n                    \"class\": \"Certificate\",\r\n                    \"certificate\": {\"bigip\":\"/Common/acme.com-wildcard\"},\r\n                    \"privateKey\": {\"bigip\":\"/Common/acme.com-wildcard\"}\r\n                },\r\n                \"{{APP_NAME}}-serverssl\": {\r\n                    \"class\": \"TLS_Client\"\r\n                },\r\n                \"https-api-pool\": {\r\n                    \"class\": \"Pool\",  \r\n                        \"members\": [\r\n                            {\r\n                            \"serverAddresses\": [\r\n                            \"10.1.20.6\"\r\n                            ],\r\n                            \"servicePort\": 8443\r\n                            }\r\n                        ],\r\n                    \"monitors\": [\r\n                        \"icmp\"\r\n                    ]\r\n                }\r\n\r\n            }\r\n       }\r\n    }\r\n\r\n}\r\n                \r\n             \r\n          \r\n       \r\n    \r\n"
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare"
					]
				}
			},
			"response": []
		},
		{
			"name": "delete_vs",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d8b35d70-9e13-4f55-8b55-b64623e1ec81",
						"exec": [
							"if (responseCode.code === 200) {",
							"pm.collectionVariables.set('PRIOR_RESPONSE', 'OK' );",
							"}",
							"",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "admin",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://10.1.1.4/mgmt/shared/appsvcs/declare/{{PARTITION_NAME}}",
					"protocol": "https",
					"host": [
						"10",
						"1",
						"1",
						"4"
					],
					"path": [
						"mgmt",
						"shared",
						"appsvcs",
						"declare",
						"{{PARTITION_NAME}}"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"id": "db7c8499-3bbd-4e8c-ab21-635ff9b1fb32",
			"key": "APP_NAME",
			"value": "",
			"type": "string"
		},
		{
			"id": "219ace5c-9f27-40ab-aa72-a49b08a3c1ba",
			"key": "PARTITION_NAME",
			"value": "",
			"type": "string"
		},
		{
			"id": "b06184b3-910b-4d15-a6c3-661ae6d2183e",
			"key": "PATH_NAME",
			"value": "",
			"type": "string"
		},
		{
			"id": "b3ad0ffa-fd13-445a-868e-99b5789256ec",
			"key": "PRIOR_RESPONSE",
			"value": "",
			"type": "string"
		},
		{
			"id": "10d1beb4-111f-4b54-b97e-2e256cb8d181",
			"key": "HTTPS_RUN",
			"value": "",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}